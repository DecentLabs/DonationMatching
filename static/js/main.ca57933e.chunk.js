(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports={inputWrapper:"input_inputWrapper__1w979",label:"input_label__1IhEx",input:"input_input__1Lyyr",error:"input_error__2ZUcA"}},144:function(e,t,a){e.exports=a.p+"static/media/tick.e96a61b9.svg"},148:function(e,t,a){e.exports={home:"Home_home__3tmoj",fundraiser:"Home_fundraiser__2MP-U"}},149:function(e,t,a){e.exports={iframeContainer:"iframeContainer_iframeContainer__3FGuN",spinner:"iframeContainer_spinner__1PGBV",loading:"iframeContainer_loading__3JjXI",expired:"iframeContainer_expired__1ExIJ"}},198:function(e,t,a){e.exports={navigation:"navigation_navigation__3kror",left:"navigation_left__2sFA6",right:"navigation_right__2wEa5",link:"navigation_link__26eOL",logo:"navigation_logo__3-7lG"}},201:function(e,t,a){e.exports={loader:"loaderComp_loader__Bsq4E",loaderIcon:"loaderComp_loaderIcon__y-AhW",rotating:"loaderComp_rotating__3vqOg"}},202:function(e,t,a){e.exports={selectWrapper:"select_selectWrapper__4VRjq",select:"select_select__1qOqL","select-css":"select_select-css__39We0"}},210:function(e,t,a){e.exports={meField:"meCheckbox_meField__180Pf",meCheckbox:"meCheckbox_meCheckbox__1CUF1"}},29:function(e,t,a){e.exports={button:"button_button__MPBy1",naked:"button_naked__2ohiy",copy:"button_copy__2zSYw",small:"button_small__18l_4",colorBtn:"button_colorBtn__2H12p",close:"button_close__1mFKG",margin:"button_margin__qBDtL"}},309:function(e,t,a){e.exports=a.p+"static/media/text-logo.fe7acb78.svg"},31:function(e,t,a){e.exports={centerRow:"Campaign_centerRow__3sPZL",centerColumn:"Campaign_centerColumn__38Fn8",padding:"Campaign_padding__1hOGG",halfColumn:"Campaign_halfColumn__2yQXR",button:"Campaign_button__2nBBn",disclaimer:"Campaign_disclaimer__2xYUS"}},311:function(e){e.exports=[{anonymous:!1,inputs:[{indexed:!0,name:"deployer",type:"address"},{indexed:!0,name:"recipient",type:"address"},{indexed:!0,name:"sponsor",type:"address"},{indexed:!1,name:"fundraiser",type:"address"},{indexed:!1,name:"grant",type:"address"},{indexed:!1,name:"expiration",type:"uint256"}],name:"NewFundraiser",type:"event"},{constant:!1,inputs:[{name:"_recipient",type:"address"},{name:"_sponsor",type:"address"},{name:"_expiration",type:"uint256"}],name:"newFundraiser",outputs:[{name:"fundraiser",type:"address"},{name:"grant",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},312:function(e,t,a){e.exports=a.p+"static/media/loader.dd0bc58f.svg"},313:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQDhAREhIQFhMNEA8REA8PEBAVFhUNFREWFhUSFRMkHSggGBolGxUVITEhJSkrLi4uFx8zODMsNygtLisBCgoKDg0OGxAQGi0hHyUtLS0tLS0rLSstKy0tLS0tNy0tLSstLS0tLS0tLS03LS0tLSstLTctLSstLTc3LSstN//AABEIALQAtAMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAABQYHBAMBAv/EAD8QAAIBAwEEBAoJAwQDAAAAAAECAAMEERIFBiExE0FRoQciMkJSYXGBkbEVIzNigpKiwdFDctIUF+HiNLLC/8QAGQEBAAMBAQAAAAAAAAAAAAAAAAIDBAEF/8QAJREAAwACAQQCAwADAAAAAAAAAAECAxEEEiExMhMiQVFxQoGx/9oADAMBAAIRAxEAPwDcYiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAfnM5aF9Sd2prUpsyeUiupZfao5T7fBuiqafKKPpI56scJjW61z0d9btkj6wKxz5reL435pZGLrTf6MufkfHSnXk3CJ8HKfZWahERAEREA5bq6p0l1VKiIOWp2VRn+4z0p1AwBUggjIIOQRM18KVyDcUaefIRmK54Bmb5+LLL4OtX0emc4L1NGfR1fzqllYtQqMscjqyuNeC1xESs1CIiAIiIAiIgH5ifZCb0baFnbirp1FnCIucAuVZuJ7MAzqTb0iN0oTbIzfXeSrZdEtNFLVtZLOGICrjkB1+NISy8JD8OmoKe1qbMv6Tn5zxrb6W1yoS7tNQByGpvxHs5FfjPD6O2TX+yualBj5lXio+P+U0zEpaqTzMme6vqilr9Fts9+rGpzdqZPVURvmMiT9pf0qozTqI47UdW+Uy+tuLXI1UatCsvUVfBP7d8hrrYl3QOWo1V0+cqsQPxjhOPDD8M6uXln2k3EjImO757Ea1uGZQeirMzoQOCluJT3fKc9nvPe0uC16hHY56T/ANszmvb+5vKo1l6jMcIijIHqRBLMWKore+xVyOTGWdJPZb93t/AqLTutWVGBWQasj74559Ylvsd4LSvwp16ZJ5ITpY+xTgzOrXcK9dckUkz5tR+P6QZwbW3Wu7YFnQFV51KZ1KPb1j3iRrHjp9mTx588T9p2jasxmZRurvjUoMtOsxekTgM3Fqfr1dY9Xwlj353iq26IlH+upIr+KQB6Kfe9fr+FLxUq6TXPLiodfos1/tWhQA6WqiZHAM3E+xeZla2tv9bU1Io5qvjxfFZUB9bHj8JQNn7Kur12KI9Qk+PUduAb1ufOk23g+vdOc0D90M2fljvlqxY5f2ZmfJz2txPYhKVOvf3R5tUrtlm6lXtPYAJsmyrFaFGnSXlSUKDjn2n3njMZurS5sqo1rUpuvFGBxn2MOfunfc74X7rp6YrgYJRVUn72QMyeXG710vsU4M84m3afUa/Wrqgy7KoHNmIA75C32+NjSyDWViOqkGfPvHDvmVU7a6ujqC16p9PDv+qS9ruNeMMuKdMcz0jrwHuzIfBE+zL3zMlesk9e+EhAPqqDHsao6r3DPzjdrfWvcXSUaiU9NXIVqasCraWbrY5HCRP0Ds2jxr3oc9aW4U+N6PDV+09bbeLZ9mc21tUZ8Y11GwT7OfyEOJa1K2QWbKqTukl+jUYlT3R3rN7Uem1MI6prUq2QU1KD7+IlszM9S5emenjtXO14P1ERIkz5I/atjSr0mSsAU5nJxjHXnqnfOPalp09CrSyR0qOmodWoTq8kLW5a1szmru/syqxFC+CEHBWrpILfdJ0/vOW63Fu1GU6KqDxGh8Er78fOed9uTfUs4RagHnU3U/pODIoNdWrf16RJ5ePTJmydv1rZ41pL2jX8PtaxurY6ilekR5+l1/WJ3WW999Sx9aXA82oFbP4jx7562e+99TwGdXHZUVT3jBnW28tlWB/1FkmSD9ZSKglu498ktv2nZBOV601/Sv7Y2o91W6VwoLBRpUeKNM03cvd9bWitR1HTVlDOSOKg8kHZ6/XMt2agavRDYw1WkGz6OpdU3nq90hyH0pSjTwITdXXdkbtDblrbkLVqopPmk5PwHKdltc06yB0ZWVhwZTkGYZtKq7V6pqZ1mo+vPMNq4rLn4LKj67hePRhUY9gfVw+Iz+WV1h6Y6tluLlu8vQ12IvfvYYtq6vTGKdfJAHJXHNR6uOR7+ySW7FEbRsGtHbDW1Sm1N+ZFIn+NY94kv4T6ebJCPNrpx9RR1/iQHguqYvKi9T25OO0q6f5GTVdWLf5RU5mOR0/hmjWVpSoU1pooVEGAB8/+ZxpvLZmp0Yr0yxOAA3At6m5d84PCFVqLs+pozhmRXI6qRbj+w98yOQxYla22XZ+V8NKJRue2Nl0rqiadQAgjgetW6mHrmL3ts9rcNTONdB+BxwLK2pW9nkma9uhUqPYW7VMlimctzK5Og/lxM98I6KNoNjHj0qZb+7l8gJLA2qclfMlVCyLyed1vvev5LpTHLFNB8zkyKapdXTYzXrHsy9TH4ZJ7I2vZUKK67QVawLFmqFdHlcOeer1T3ut+7kjTSSjSUcgiZI+PDulumn2kybTW6v8A0eFpuVfVOdMUwfOquo7hk907xutaUc/6m9pgrzp0tOofM90r9ztS7uTperWqav6YZiD+AcJ2We6N9Wxiiyg+dVKpj8J49059v8q0SnpfrDf9NF3V2bZ0kNS1OsVODVS2pjjzfV7MCWKV7c/Yb2VuyOwZqlQu2jyR4qrpGfZLDMdvdPvs9jCtQtrR+oiJEtEREA/OJB72bYW0t+kKB9bimqnkWKsePqwDJwmcO1dmUrmkaVVQVbj2EN2g9s7LSfcryJuWl5My+m9n1vt7IIT59ucd3CPojZlb7G8akSPIuF4D8XAd5k/e+Dekfsqzr2CoquO7Er13uHe0/JFOoPuPg/BsTXNy/V6PKvFlXtKZBbRtDQrFNStoKlXRsqy+UrBpsG7O2Fu7dKgI1AKtResVOv3HmJkF3s6vR+0pVEHayMB+afdmbTrW1TpKTlTyYcwy+iV65PJj+SfPcr4+Z4be12ZrG190rS4c1HRg58pkbTq9vVJHZey6NtT0UlCjOT1kt2k9cotv4SagUa7dGPpLUKD8pB+cittb63NwpRdNNGGCELaivol/4xKPhyPs/BsfJwT9pXct+2L6lf07yzp4L0ER0IPlOG1FR71Ufimebv7TNrdU6vHCNpdRzKHgZMbh7KuHuErplKVM+O7Dgy9aDt/adu+G7IfN3akOjktURDqw3W6Y8odo6vlOemG4/BRk67Sypd1/w0NWpXFIEaXp1V9qshkCm4liKmvS+BxFNnYqP375new947izOEYFCctScZXV+x9ksv8AuS+P/HXPb0rY+Gj95B4bT+pcuThtJ2u5f7islGmzMQqIuSTwAUTFNubQN1dVKuD9Y+FHXoHAD4CdG3N5Li84OwCA5FJBhf7j2++RdvbPUOER3PoojMe6XYcfR3fkzcrkfI1MeCxru9Z0gpub1AceNToDWwPZqGflPv0hsqj9nbVazDk1dtKn3f8AWc1luXfVcfVaAfOqsq/p590sFj4N+XTV/atJP/o/xOVUr2o5GPI/WNf0ktyt46dw70VoJSKJrUU8aSgZV7Bx8YS5gSD2Fu5b2eo0g2pxhmZssR6PYJOZmXI03tHrYJqYSryfYiJAuEREAREQBERAEREA8ysiLzdmzq+XQp59JV0H8y4k1Pk6m14IVE15RTn8HdoeTV1+6roR3pOqw3JsqRBKNUI5Gq2oflGAfhLPEk8lv8la4+NPakzbwgbUuqT9AAKdB18Upw1DzlLdWOwSA3V2rd0qy06HjdK+DSbih+9932zVNv7Ip3dBqT448VbHFX6mkRuXuuLRWeppNZ8rkHIVPRX285dOWVj013Mt8fI8yafY7dpbsWtz41SkA5HF6ZZTn3c/eJFf7c2mfLuPZrT/AAl0iUrJS8M1vj429tFesdzrGlgiirEddUs+fwnh3SbpUFQAKoAHIKAAJ7RIum/LJTjmfCPsRE4WCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgCIiAIiIAiIgH/9k="},314:function(e,t,a){e.exports=a.p+"static/media/medal-2.adcd6733.svg"},315:function(e,t,a){e.exports={newCampaign:"NewCampaign_newCampaign__27yau"}},317:function(e,t,a){e.exports=a.p+"static/media/copy.272fe541.svg"},338:function(e){e.exports=[{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},339:function(e){e.exports=[{constant:!0,inputs:[],name:"sponsor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"fundraiser",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_fundraiser",type:"address"},{name:"_sponsor",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!1,inputs:[{name:"token",type:"address"}],name:"refund",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"refundable",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"sponsored",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"matched",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"token",type:"address"}],name:"tally",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},341:function(e,t,a){e.exports=a(739)},364:function(e,t){},366:function(e,t){},41:function(e,t,a){e.exports={widgetEditor:"widgetEditor_widgetEditor__34qeF",description:"widgetEditor_description__1B7my",widget:"widgetEditor_widget__2neun",codeContainer:"widgetEditor_codeContainer__1Sedh",colorPickerCont:"widgetEditor_colorPickerCont__1osJ2",picker:"widgetEditor_picker__tT33G",transferCont:"widgetEditor_transferCont__3fd7_",transfer:"widgetEditor_transfer__14YHP",backLink:"widgetEditor_backLink__3w1rD",thankyou:"widgetEditor_thankyou__3cMW6"}},458:function(e,t){},525:function(e,t){},736:function(e,t,a){},739:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(81),o=a.n(s),i=a(30),c=a(17),l=a(18),d=a(20),u=a(19),p=a(21),m=a(32),h=a(198),b=a.n(h),f=a(38),g=a(309),y=a.n(g);function E(){return r.a.createElement("nav",{className:b.a.navigation},r.a.createElement("div",null,r.a.createElement(f.c,{to:"/"},r.a.createElement("img",{src:y.a,alt:"chari logo",className:b.a.logo}))))}var v=a(148),k=a.n(v),w=a(9),C=a.n(w),A=a(28),I=a(43),O=a(200),_=a.n(O),S=a(310),x=a.n(S),j=new Map,N={token:"ETH",tokenAddress:"0x0000000000000000000000000000000000000000",decimals:18};j.set(1,{url:"https://mainnet.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[N,{token:"AEUR",tokenAddress:"0xc994a2dEb02543Db1f48688438b9903c4b305ce3",decimals:2},{token:"DAI",tokenAddress:"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",decimals:18}],factory:"0x18662Eef5F00f59A765830B571FAc1d273F4b8D8",etherscan:"https://etherscan.io/",portisName:"mainnet"}),j.set(3,{url:"https://ropsten.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[N],factory:"0x1329857cDa42634C501C1d5f2757761Ccde07436",name:"Ropsten testnet",etherscan:"https://ropsten.etherscan.io/",portisName:"ropsten"}),j.set(4,{url:"https://rinkeby.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[N,{token:"AEUR",tokenAddress:"0x79065a165Ec09E6A89D584a14872802717FE12a3",decimals:2}],factory:"0x43D5e98C1350DB149f24C4cf9a181e4d7b6fC2d2",name:"Rinkeby testnet",etherscan:"https://rinkeby.etherscan.io/",portisName:"rinkeby"});var D=a(92),T=new URLSearchParams(window.location.search).get("portis_network")||"mainnet";console.log("portis network",T);var R=new Map,P=function(){var e=Object(A.a)(C.a.mark(function e(t,a){var n,r,s,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=R.get(t))||(r=j.get(t).url,n=new _.a(r),R.set(t,n)),s=new n.eth.Contract(D,a),e.next=5,s.methods.hasExpired().call();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),L=function(e){return new _.a(e,null,{transactionConfirmationBlocks:1})},M=function(){return new Promise(function(){var e=Object(A.a)(C.a.mark(function e(t,a){var n,r,s,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=13;break}return n=L(window.ethereum),e.prev=2,e.next=5,window.ethereum.enable();case 5:t(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a(e.t0);case 11:e.next=24;break;case 13:if(!window.web3){e.next=19;break}r=window.web3,console.log("Injected web3 detected."),t(r),e.next=24;break;case 19:return s=new x.a("98a39edb-e9d0-4b58-96b6-89227c762f7a",T),e.next=22,s.provider.enable();case 22:o=L(s.provider),t(o);case 24:case"end":return e.stop()}},e,null,[[2,8]])}));return function(t,a){return e.apply(this,arguments)}}())},F=a(311),B={error:null,storageValue:0,web3:null,accounts:null,contract:null,transactionHash:null,networkId:null,recipient:null,expDate:null,isLoading:!1,isConnected:!1,deployer:null,sponsor:null,fundraiser:null,grant:null,isDeploying:!1,isDeployed:!1,justDeployed:!1},U=function(e){return{type:"UPDATE_RECIPIENT",recipient:e}},H=function(e){return{type:"UPDATE_SPONSOR",sponsor:e}},W=function(){return function(){var e=Object(A.a)(C.a.mark(function e(t){var a,n,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"WEB3_SETUP_REQUESTED"}),e.prev=1,window.ethereum.on("accountsChanged",function(e){return t({type:"UPDATE_ACCOUNT",accounts:e})}),e.next=5,M();case 5:return a=e.sent,e.next=8,a.eth.getAccounts();case 8:return n=e.sent,e.next=11,a.eth.net.getId();case 11:return r=e.sent,e.abrupt("return",t({type:"WEB3_SETUP_SUCCESS",web3:a,accounts:n,networkId:r}));case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",t({type:"WEB3_SETUP_ERROR",error:e.t0}));case 18:case"end":return e.stop()}},e,null,[[1,15]])}));return function(t){return e.apply(this,arguments)}}()},q={WIDGET_BASE_URL:"https://chari.io/widget/"},V=1,Y="02DB96",K="light",Z="ETH",G=a(26),z=a.n(G),J=a(29),Q=a.n(J);function X(e){var t=e.naked?Q.a.naked:null,a=e.copy?Q.a.copy:null,n=e.colorSelector?Q.a.colorBtn:null,s=e.margin?Q.a.margin:null;return r.a.createElement("button",{style:{borderBottom:"2px solid ".concat(e.colorData)},"data-color":e.colorData,className:z()(Q.a.button,Q.a[e.state],t,a,n,s),onClick:e.onClick,disabled:e.disabled},e.children)}var $=a(149),ee=a.n($),te=a(201),ae=a.n(te),ne=a(312),re=a.n(ne);var se=function(e){var t=e.subtitle?"none"===e.subtitle?"":e.subtitle:"Please wait and follow the instructions in your wallet.";return r.a.createElement("div",{className:ae.a.loader},e.children&&e.children,t&&r.a.createElement("p",null,t),r.a.createElement("div",{className:ae.a.loaderIcon},r.a.createElement("img",{src:re.a,alt:"loader"})))},oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,hasExpired:null},a.componentDidMount=Object(A.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(parseInt(a.props.networkId),a.props.address);case 2:t=e.sent,a.setState({hasExpired:t});case 4:case"end":return e.stop()}},e)})),a.loaded=function(){a.setState({loading:!1})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t;void 0===this.props.loading||void 0===this.props.loaded?(e=this.state.loading,t=this.loaded):(e=this.props.loading,t=this.props.loaded);var a=this.state.hasExpired?ee.a.expired:"",n=e?ee.a.loading:"";return r.a.createElement("div",{className:z()(a,ee.a.iframeContainer),style:this.props.containerStyles},e&&r.a.createElement(se,{subtitle:"none"}),r.a.createElement("iframe",{className:n,onLoad:t,title:this.props.title||"Chari-widget",src:this.props.url,style:this.props.iframeStyles}))}}]),t}(r.a.Component),ie=a(313),ce=a.n(ie),le=a(314),de=a.n(le),ue={width:"100%",marginLeft:"auto",marginRight:"auto",display:"block"},pe={width:"100%",border:0};var me=Object(i.b)(function(e){return{web3Connect:e.web3Connect}})(function(e){return r.a.createElement("div",{className:z()(k.a.home,"home")},r.a.createElement("header",null,r.a.createElement("h1",{className:"title"},"A match made in crypto"),r.a.createElement("p",{className:"big"},"Chari makes donation matching campaigns easy",r.a.createElement("br",null),"and secure with cryptocurrencies.")),r.a.createElement(f.c,{to:"/campaign/deploy"},r.a.createElement(X,{onClick:function(){e.web3Connect.isConnected||e.dispatch(W())}},"Create a fundraising campaign")),r.a.createElement("section",{className:"benefits"},r.a.createElement("h1",{className:"subtitle"},"Why use Chari?"),r.a.createElement("div",null,r.a.createElement("h2",null,"A different audience"),r.a.createElement("p",{className:"big"},"Reach a new class of sponsors and donors",r.a.createElement("br",null),"in the world of magic internet money.")),r.a.createElement("div",{className:"divider"}),r.a.createElement("div",null,r.a.createElement("h2",null,"Zero fees"),r.a.createElement("p",{className:"big"},"Fundraising platforms typically charge a 4-8% fee on donations.",r.a.createElement("br",null),"Chari charges nothing",r.a.createElement("sup",null,"*"),", so more goes to the cause!",r.a.createElement("br",null)),r.a.createElement("small",null,r.a.createElement("sup",null,"*")," Ethereum transactions do incur a small fee, typically less than 0.1%."),r.a.createElement("div",{className:"divider"})),r.a.createElement("div",null,r.a.createElement("h2",null,"Safe and secure"),r.a.createElement("p",{className:"big"},"Chari provides maximum security for the fundraising process.",r.a.createElement("br",null),"There's no need for a trusted third party, all funds",r.a.createElement("br",null),"are managed by a smart contract."))),r.a.createElement("section",{className:"chari"},r.a.createElement("h1",{className:"subtitle"},"What is Chari?"),r.a.createElement("div",null,r.a.createElement("p",{className:"strong big"},"A smart contract."),r.a.createElement("p",{className:"big"},"The Chari smart contract manages the sponsor grant and donations on the Ethereum blockchain. This means there is no need for a trusted third party to coordinate the fundraising and each participant can be certain their funds are managed safely.")),r.a.createElement("div",null,r.a.createElement("p",{className:"strong big"},"A donation widget."),r.a.createElement("p",{className:"big"},"You can easily embed a Chari donation component into the landing page of your fundraiser campaign.")),r.a.createElement("div",{className:"divider"}),r.a.createElement("h2",null,"What is donation matching?"),r.a.createElement("p",{className:"big"},"Matching grants are a great way to raise funds for a charitable cause. A sponsor deposits a budget to match donations 1:1. So the donors will double the impact of their contributions."),r.a.createElement("p",{className:"big"},"When the fundraiser ends, the charity gets twice the donations and any remaining budget is returned to the sponsor.")),r.a.createElement("section",{className:"featured"},r.a.createElement("h1",{className:"subtitle"},"Featured Fundraisers"),r.a.createElement("div",null,r.a.createElement("div",{className:k.a.fundraiser},r.a.createElement("div",null,r.a.createElement("h2",null,"Archive.org"),r.a.createElement("p",null,r.a.createElement("strong",null,"Recipient:")," ",r.a.createElement("a",{href:"https://www.archive.org"},"The Internet Archive"),r.a.createElement("br",null),r.a.createElement("strong",null,"Sponsor:")," ",r.a.createElement("a",{href:"https://decent.org"},"Decent Labs")),r.a.createElement("p",null,"The Internet Archive is a small non-profit library with a huge mission: to give everyone access to all knowledge, forever. For free.")),r.a.createElement(oe,{title:"Chari-widget-demo",address:"0x4a3De18552C740977E82ecF9FF2B826aD9Ba2305",networkId:"1",containerStyles:ue,iframeStyles:pe,url:"".concat(q.WIDGET_BASE_URL,"?address=0x4a3De18552C740977E82ecF9FF2B826aD9Ba2305&network=1&color=02DB96&theme=light")})),r.a.createElement("div",{className:k.a.fundraiser},r.a.createElement("div",null,r.a.createElement("h2",null,"GiveDirectly"),r.a.createElement("p",null,r.a.createElement("strong",null,"Recipient:")," ",r.a.createElement("a",{href:"https://www.givedirectly.org"},"GiveDirectly"),r.a.createElement("br",null),r.a.createElement("strong",null,"Sponsor:")," ",r.a.createElement("a",{href:"https://decent.org"},"Decent Labs")),r.a.createElement("p",null,"This fundraiser helps people living in extreme poverty.")),r.a.createElement(oe,{title:"Chari-widget-demo",address:"0x009D88A62945F22ec7df60D34541B5F01cFF23f9",networkId:"1",containerStyles:ue,iframeStyles:pe,url:"".concat(q.WIDGET_BASE_URL,"?address=0x009D88A62945F22ec7df60D34541B5F01cFF23f9&network=1&color=02DB96&theme=light")})))),r.a.createElement("section",{className:"social-proof"},r.a.createElement("img",{className:"logo gitcoin-logo",src:de.a,alt:"gitcoin-logo"}),r.a.createElement("p",{className:"big"},"Chari was awarded for best user experience",r.a.createElement("br",null),"at ",r.a.createElement("a",{href:"https://gitcoin.co/",target:"_blank",rel:"noopener noreferrer"},"Gitcoin"),"'s international ",r.a.createElement("a",{href:"https://gitcoin.co/hackathon/beyondblockchain",target:"_blank",rel:"noopener noreferrer"},"Beyond Blockchain")," hackhaton."),r.a.createElement("a",{href:"https://korhazsuli.com/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"hospischool-logo logo",alt:"hospischool-logo",src:ce.a})),r.a.createElement("div",{className:"quote"},r.a.createElement("p",null,"\"Crypto fundraising opens access to a new world of potential sponsors and donors. Chari provides a safe platform for donations: no 3rd party to manage funds, no chance of corruption. I like how simple it is and the fact there\u2019s no overhead on funding.''"),r.a.createElement("span",null,"- R\xe9ka Berczel\xe9di, ",r.a.createElement("a",{href:"https://korhazsuli.com/",target:"_blank",rel:"noopener noreferrer"},"HospiSchool"))),r.a.createElement("p",null,"HospiSchool supports long-term hospitalized children to continue education with the help of student volunteers.")))});function he(){return r.a.createElement("div",null,"Featured campaigns")}function be(){return r.a.createElement("div",null,"Learn more")}function fe(){return r.a.createElement("div",null,"contact")}var ge=a(315),ye=a.n(ge),Ee=a(25),ve=a(316),ke=a(41),we=a.n(ke),Ce=a(202),Ae=a.n(Ce),Ie=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.onChange,t=this.props.options?this.props.options:[],a=this.props.label?this.props.label:"Please select an option",n=this.props.value,s=[];return s.push(r.a.createElement("option",{key:"select-value-0",value:"undefined",disabled:!0},a)),t.forEach(function(e){s.push(r.a.createElement("option",{key:e.value,value:e.value},e.name))}),r.a.createElement("div",{className:Ae.a.selectWrapper},r.a.createElement("select",{className:Ae.a.select,onChange:e,defaultValue:n},s))}}]),t}(r.a.Component),Oe=a(317),_e=a.n(Oe),Se=function(e){return"#"===e[0]?e.slice(1):e},xe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Y,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:K,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Z;return"".concat(q.WIDGET_BASE_URL,"?address=").concat(e,"&network=").concat(t,"&color=").concat(Se(a),"&theme=").concat(n,"&token=").concat(r)},je=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:K,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Z;return"/campaign/".concat(t,"/").concat(a,"/").concat(Se(n),"/").concat(r,"/").concat(s,"/").concat(e)},Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).selectTheme=a.selectTheme.bind(Object(Ee.a)(a)),a.selectColor=a.selectColor.bind(Object(Ee.a)(a)),a.selectToken=a.selectToken.bind(Object(Ee.a)(a)),a.iframeLoaded=a.iframeLoaded.bind(Object(Ee.a)(a)),a.toggleColorSelector=a.toggleColorSelector.bind(Object(Ee.a)(a)),a.history=a.props.history,a.state={color:a.props.match.params.color,theme:a.props.match.params.theme,token:a.props.match.params.token,address:a.props.match.params.address,networkId:a.props.match.params.networkId,iframeLoading:!0,showColorSelector:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"setHistoryState",value:function(e){var t=Object.assign(this.state,e),a=t.address,n=t.networkId,r=t.color,s=t.theme,o=t.token;this.history.push(je("admin",a,n,r,s,o))}},{key:"selectTheme",value:function(e){this.setHistoryState({theme:e.target.value})}},{key:"selectColor",value:function(e){this.state.color!==e.hex&&this.setHistoryState({color:e.hex})}},{key:"selectToken",value:function(e){this.setHistoryState({token:e.target.value})}},{key:"toggleColorSelector",value:function(){var e=!this.state.showColorSelector;this.setState({showColorSelector:e})}},{key:"copyCode",value:function(){document.querySelector("textarea#chari-widget-code").select(),document.execCommand("copy")}},{key:"iframeLoaded",value:function(){this.setState({iframeLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.address,a=e.networkId,n=e.color,s=e.theme,o=e.token,i=xe(t,a,n,s,o),c=j.get(parseInt(a)).tokens.map(function(e){return{value:e.token,name:e.token}}),l='<iframe src="'.concat(i,'" title="chari-widget" width="320px" height="435px" style="border-radius: 4px; border: none"></iframe>');return r.a.createElement("div",{className:we.a.widgetEditor},r.a.createElement("header",null,r.a.createElement("h1",{className:"subtitle"},"Manage your fundraiser"),r.a.createElement("h2",{className:"subtitle"},"Edit your widget"),r.a.createElement("p",{className:we.a.description},"You can manage your fundraiser widget from here, customize it and also copy the code necessary to embed it on your website."),r.a.createElement(f.b,{to:je("details",t,a,n,s,o),className:we.a.backLink},"Back to fundraiser")),r.a.createElement("div",{className:we.a.widget},r.a.createElement(oe,{address:t,networkId:a,title:"Chari-widget",url:i,loading:this.state.iframeLoading,loaded:this.iframeLoaded}),r.a.createElement("div",{className:we.a.settings},r.a.createElement(Ie,{options:c,label:"Please select token to pay with",onChange:this.selectToken,value:this.state.token}),r.a.createElement(Ie,{options:[{value:"dark",name:"Dark theme"},{value:"light",name:"Light theme"}],label:"Please select widget theme",onChange:this.selectTheme,value:this.state.theme}),r.a.createElement("div",{className:we.a.colorPickerCont},r.a.createElement(X,{state:this.state.showColorSelector?"close":"open",onClick:this.toggleColorSelector,colorSelector:!0,colorData:"#"+this.state.color},"Please select color"),this.state.showColorSelector&&r.a.createElement(ve.TwitterPicker,{className:we.a.picker,color:"#"+this.state.color,onChangeComplete:this.selectColor})),r.a.createElement("div",{className:we.a.codeContainer},r.a.createElement("textarea",{readOnly:!0,value:l,id:"chari-widget-code"}),r.a.createElement(X,{copy:!0,onClick:this.copyCode},"Copy embed code ",r.a.createElement("img",{width:"18",height:"18",src:_e.a,alt:"copy code"}))))))}}]),t}(r.a.Component),De=a(82),Te=a.n(De),Re=(a(727),a(318)),Pe=a(118),Le=a.n(Pe),Me=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.placeHolder,n=e.name,s=e.onChange,o=e.onClick,i=e.value,c=e.error,l=e.errorLabel;return r.a.createElement("div",{className:Le.a.inputWrapper},r.a.createElement("label",{className:Le.a.label},t),r.a.createElement("input",{className:Le.a.input,name:n,placeholder:a,onChange:s,onClick:o,value:i}),c&&r.a.createElement("p",{className:Le.a.error},l))}}]),t}(r.a.Component),Fe=a(210),Be=a.n(Fe),Ue=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.onChange;return r.a.createElement("div",{className:Be.a.meField},r.a.createElement("input",{className:Be.a.meCheckbox,id:t,type:"checkbox",onChange:a}),r.a.createElement("label",{htmlFor:t},"paste my address"))}}]),t}(r.a.Component),He=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).deploy=a.deploy.bind(Object(Ee.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"deploy",value:function(){this.props.dispatch(function(){var e=Object(A.a)(C.a.mark(function e(t,a){var n,r,s,o,i,c,l,d,u;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"DEPLOY_REQUESTED"}),e.prev=1,n=a().web3Connect,r=n.recipient,s=n.sponsor,o=n.expDate,i=n.web3,c=n.networkId,l=n.accounts[0],d=j.get(c).factory,u=new i.eth.Contract(F,d),i.utils.isAddress(r)&&"number"===typeof o&&o%1===0&&u.methods.newFundraiser(r,s,o).send({from:l,gas:2e6}).on("error",function(e){console.log(e),t({type:"DEPLOY_ERROR"})}).on("confirmation",function(e,t){return console.log(e,t,"conf")}).on("transactionHash",function(e){t({type:"TRANSACTION_HASH",hash:e})}).then(function(e){var a=e.events.NewFundraiser.returnValues,n={deployer:a[0],recipient:a[1],sponsor:a[2],fundraiser:a[3],grant:a[4]};t({type:"DEPLOY_SUCCESS",addresses:n,contract:u})}),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",t({type:"DEPLOY_ERROR",error:e.t0}));case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(t,a){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return r.a.createElement(X,{state:"deploy",onClick:this.deploy,disabled:this.props.disabled},"Create")}}]),t}(r.a.Component),We=Object(i.b)(function(e){return{web3:e.web3Connect.web3}})(He),qe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={date:"",sponsor:"",recipient:"",dateError:!1,sponsorError:!1,recipientError:!1},a.onCharityAddressChange=a.onCharityAddressChange.bind(Object(Ee.a)(a)),a.onSponsorAddressChange=a.onSponsorAddressChange.bind(Object(Ee.a)(a)),a.onExpDateChange=a.onExpDateChange.bind(Object(Ee.a)(a)),a.onSponsorMe=a.onSponsorMe.bind(Object(Ee.a)(a)),a.onCharityMe=a.onCharityMe.bind(Object(Ee.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:"RESET_STORE"}),this.props.isConnected||this.props.dispatch(W())}},{key:"onCharityAddressChange",value:function(e){var t=e.target?e.target.value:e;this.props.dispatch(U(t)),this.setState({recipient:t}),this.validateCharityAddress(t)}},{key:"onSponsorAddressChange",value:function(e){var t=e.target?e.target.value:e;this.props.dispatch(H(t)),this.setState({sponsor:t}),this.validateSponsorAddress(t)}},{key:"onSponsorMe",value:function(e){var t=e.target.checked?this.props.account:"";this.props.dispatch(H(t)),this.onSponsorAddressChange(t)}},{key:"onCharityMe",value:function(e){var t=e.target.checked?this.props.account:"";this.props.dispatch(U(t)),this.onCharityAddressChange(t)}},{key:"onExpDateChange",value:function(e){if(e){var t=Math.floor(e.getTime()/1e3);this.setState({date:e}),this.props.dispatch({type:"UPDATE_EXPDATE",expDate:t}),this.validateDate(e)}else this.setState({dateError:!0})}},{key:"validateDate",value:function(e){var t=Date.now();e.getTime()<t?this.setState({dateError:!0}):this.setState({dateError:!1})}},{key:"validateSponsorAddress",value:function(e){this.props.web3.utils.isAddress(e)?this.setState({sponsorError:!1}):this.setState({sponsorError:!0})}},{key:"validateCharityAddress",value:function(e){this.props.web3.utils.isAddress(e)?this.setState({recipientError:!1}):this.setState({recipientError:!0})}},{key:"render",value:function(){var e=""===this.state.recipient||""===this.state.sponsor||""===this.state.date||this.state.dateError||this.state.sponsorError||this.state.recipientError;return this.props.isConnected&&r.a.createElement("div",{className:Te.a.createContractForm},r.a.createElement("h1",{className:"subtitle"},"Hi! You are creating a new fundraiser"),r.a.createElement("form",null,r.a.createElement("div",{className:Te.a.field},r.a.createElement(Me,{name:"charityAddress",label:"Enter charity recipient address",placeHolder:"0x...",value:this.state.recipient,onChange:this.onCharityAddressChange,error:this.state.recipientError,errorLabel:"Please specify a valid address"}),r.a.createElement(Ue,{id:"charityMe",onChange:this.onCharityMe})),r.a.createElement("div",{className:Te.a.field},r.a.createElement(Me,{name:"sponsorAddress",label:"Enter sponsor refund address",placeHolder:"0x...",value:this.state.sponsor,onChange:this.onSponsorAddressChange,error:this.state.sponsorError,errorLabel:"Please specify a valid address"}),r.a.createElement(Ue,{id:"sponsorMe",onChange:this.onSponsorMe})),r.a.createElement("div",{className:Te.a.datepicker},r.a.createElement(Re.a,{onChange:this.onExpDateChange,selected:this.state.date,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:60,timeCaption:"time",dateFormat:"dd/MM/yyyy hh:mm aa",customInput:r.a.createElement(Me,{name:"expiration",label:"Choose expiration date",value:this.state.date,placeHolder:"Day/Month/Year",error:this.state.dateError,errorLabel:"Please select a time in the future"})}))),r.a.createElement("div",{className:Te.a.buttonRow},r.a.createElement(We,{className:Te.a.buttonRow,disabled:e})))}}]),t}(r.a.Component),Ve=Object(i.b)(function(e){return{web3:e.web3Connect.web3,isConnected:e.web3Connect.isConnected,account:e.web3Connect.accounts&&e.web3Connect.accounts[0]}})(qe),Ye=a(338),Ke=a(144),Ze=a.n(Ke);function Ge(e){if(e){var t=e.substring(e.length-4);return{start:e.slice(0,6),end:t}}}function ze(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}var Je=function(){return r.a.createElement("div",{style:{height:20,width:20,verticalAlign:"middle",margin:10}},r.a.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 488.3 488.3",style:{enableBackground:"new 0 0 488.3 488.3"}},r.a.createElement("g",{fill:"#02DB96"},r.a.createElement("path",{d:"M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124 C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124 c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"}),r.a.createElement("path",{d:"M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227 c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6 V38.6C439.65,17.3,422.35,0,401.05,0z"}))))},Qe=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).transferFunds=function(){var e=a.props.web3;if(!a.state.amountError&&a.props.accounts)if("ETH"===a.state.token)e.eth.sendTransaction({from:a.props.accounts[0],to:a.state.grantAddress,gas:4e4,value:e.utils.toWei(a.state.amount)}).on("transactionHash",function(){a.setState({accepted:!0})}).then(function(e){a.setState({thankyou:!0}),a.setState({loading:!1})}),a.setState({loading:!0});else if(a.token&&a.token.token===a.state.token){var t=a.token.tokenAddress;new e.eth.Contract(Ye,t).methods.transfer(a.state.grantAddress,a.getTokenVal(a.state.amount)).send({from:a.props.accounts[0]}).on("transactionHash",function(){a.setState({accepted:!0})}).then(function(e){a.setState({thankyou:!0}),a.setState({loading:!1})}),a.setState({loading:!0})}},a.getTokenVal=function(e){var t=a.token.decimals;return Math.floor(e*Math.pow(10,t))},a.amountChange=function(e){var t,n=e.target.value;t="ETH"===a.token.token?parseFloat(n):a.getTokenVal(n),a.setState({amount:n,amountError:!(t>0)})},a.state={grantAddress:null,color:a.props.match.params.color,theme:a.props.match.params.theme,token:a.props.match.params.token,address:a.props.match.params.address,networkId:a.props.match.params.networkId,thankyou:!1,amount:"",amountError:!1,loading:!1,accepted:!1,smallScreen:window.innerWidth<550};var n=j.get(parseInt(a.state.networkId));return n&&(a.token=n.tokens.find(function(e){return e.token===a.state.token})),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.isConnected?this.getGrantContract():this.props.dispatch(W()),window.addEventListener("resize",function(){e.mounted&&e.setState({smallScreen:window.innerWidth<550})})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getGrantContract",value:function(){var e=Object(A.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new this.props.web3.eth.Contract(D,this.state.address),e.next=3,t.methods.grant().call();case 3:a=e.sent,this.setState({grantAddress:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.address,n=t.networkId,s=t.color,o=t.theme,i=t.token,c="".concat(i," amount"),l=this.state.smallScreen&&this.state.grantAddress?Ge(this.state.grantAddress):null;return parseInt(this.props.networkId,10)===parseInt(n,10)?r.a.createElement("div",null,r.a.createElement("h1",{className:"subtitle"},"Manage your fundraiser"),r.a.createElement("h2",{className:"subtitle"},"Transfer the matching grant to this address:"),r.a.createElement("div",{className:"addressCont"},l&&r.a.createElement("div",null,r.a.createElement("span",{className:"big strong address"},"".concat(l.start,"...")),r.a.createElement("span",{className:"big strong address"},l.end)),!l&&a&&r.a.createElement("div",null,r.a.createElement("span",{className:"big strong address"},a)),r.a.createElement("span",{className:"copy-to-clipboard"},r.a.createElement("button",{onClick:function(t){ze(e.state.grantAddress)},className:z()(Q.a.button,Q.a.copy,Q.a.small)},r.a.createElement(Je,null)))),!this.state.thankyou&&this.props.accounts&&this.props.accounts[0]&&this.state.grantAddress&&!this.state.loading&&r.a.createElement("div",{className:we.a.transferCont},r.a.createElement("p",null,"or"),r.a.createElement("div",{className:we.a.transfer},r.a.createElement(Me,{name:"ethvalue",label:"",placeHolder:c,value:this.state.amount,onChange:this.amountChange,error:this.state.amountError,errorLabel:"Please enter a correct amount"}),r.a.createElement(X,{onClick:this.transferFunds,disabled:this.state.amountError},"Transfer ",i))),this.state.loading&&r.a.createElement(se,{subtitle:this.state.accepted?"Grant is being transferred...":null}),this.state.thankyou&&r.a.createElement("div",{className:we.a.thankyou},r.a.createElement("img",{src:Ze.a,alt:"success"}),r.a.createElement("p",null,"Thank you!")),r.a.createElement(f.b,{to:je("details",a,n,s,o,i),className:we.a.backLink},"Back to fundraiser")):r.a.createElement("div",null,r.a.createElement("h2",{className:"subtitle"},"You are on a different network than this fundraiser!"))}}]),t}(r.a.Component),Xe=Object(i.b)(function(e){return{web3:e.web3Connect.web3,isConnected:e.web3Connect.isConnected,networkId:e.web3Connect.networkId,accounts:e.web3Connect.accounts}})(Qe),$e=a(31),et=a.n($e),tt=a(339),at=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={grantContract:null,account:null,refundTokens:[],disburseTokens:[],transactionPending:!1},a.disburse=a.disburse.bind(Object(Ee.a)(a)),a.refund=a.refund.bind(Object(Ee.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(A.a)(C.a.mark(function e(){var t=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.grantContract){e.next=7;break}return e.next=3,this.props.fundraiserContract.methods.grant().call().then(function(e){var a=new t.props.web3.eth.Contract(tt,e);t.setState({grantContract:a})});case 3:this.getRefundTokens(),this.getDisburseTokens(),e.next=9;break;case 7:this.getRefundTokens(),this.getDisburseTokens();case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDisburseTokens",value:function(){var e=Object(A.a)(C.a.mark(function e(){var t,a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=j.get(this.props.networkId).tokens,a=[],n=0;case 3:if(!(n<t.length)){e.next=11;break}return e.next=6,this.props.fundraiserContract.methods.tokenBalance(t[n].tokenAddress).call();case 6:e.sent.isZero()||a.push(t[n]);case 8:n++,e.next=3;break;case 11:this.setState({disburseTokens:a});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"disburse",value:function(){var e=Object(A.a)(C.a.mark(function e(t){var a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({transactionPending:!0}),e.next=3,this.props.fundraiserContract.methods.disburse(t).send({from:this.props.account,gas:1e6}).on("error",function(){a.setState({transactionPending:!1})}).then(function(){a.getDisburseTokens(),a.setState({transactionPending:!1})});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getRefundTokens",value:function(){var e=Object(A.a)(C.a.mark(function e(){var t,a,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=j.get(this.props.networkId).tokens,a=[],n=0;case 3:if(!(n<t.length)){e.next=11;break}return e.next=6,this.state.grantContract.methods.refundable(t[n].tokenAddress).call();case 6:e.sent.isZero()||a.push(t[n]);case 8:n++,e.next=3;break;case 11:this.setState({refundTokens:a});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refund",value:function(){var e=Object(A.a)(C.a.mark(function e(t){var a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({transactionPending:!0}),this.state.grantContract.methods.refund(t).send({from:this.props.account,gas:1e6}).on("error",function(){a.setState({transactionPending:!1})}).then(function(){a.getRefundTokens(),a.setState({transactionPending:!1})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h2",{className:"subtitle"},"Your campaign has ended."),this.state.transactionPending&&r.a.createElement(se,{subtitle:"none"}),!this.state.transactionPending&&r.a.createElement("div",{className:et.a.centerRow},this.state.disburseTokens.length>0&&r.a.createElement("div",{className:et.a.halfColumn},r.a.createElement("p",null,"If you woud like to disburse funds \u2028to the charity, click here"),this.state.disburseTokens.map(function(t){return r.a.createElement("div",{className:et.a.button},r.a.createElement(X,{margin:!0,onClick:function(){return e.disburse(t.tokenAddress)}},"Disburse funds in ",t.token))})),this.state.refundTokens.length>0&&r.a.createElement("div",{className:et.a.halfColumn},r.a.createElement("p",null,"If the budget has not been used, \u2028you can refund funds to the sponsor"),this.state.refundTokens.map(function(t){return r.a.createElement("div",{className:et.a.button},r.a.createElement(X,{margin:!0,onClick:function(){return e.refund(t.tokenAddress)}},"Refund the sponsor in ",t.token))}))))}}]),t}(r.a.Component),nt=Object(i.b)(function(e){return{web3:e.web3Connect.web3,account:e.web3Connect.accounts[0],networkId:e.web3Connect.networkId}})(at),rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={smallScreen:window.innerWidth<600},window.addEventListener("resize",function(){a.setState({smallScreen:window.innerWidth<550})}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.address,a=e.networkId,n=e.color,s=e.theme,o=e.token,i=this.state.smallScreen?Ge(t):null;return r.a.createElement("div",null,r.a.createElement("p",null,"Your contract's address is:"),r.a.createElement("div",{className:"addressCont"},i&&r.a.createElement("div",null,r.a.createElement("span",{className:"big strong address"},"".concat(i.start,"...")),r.a.createElement("span",{className:"big strong address"},i.end)),!i&&r.a.createElement("div",null,r.a.createElement("span",{className:"big strong address"},t)),r.a.createElement("span",{className:"copy-to-clipboard"},r.a.createElement("button",{onClick:function(e){ze(t)},className:z()(Q.a.button,Q.a.copy,Q.a.small)},r.a.createElement(Je,null)))),r.a.createElement("div",{className:[et.a.centerRow,et.a.padding].join(" ")},r.a.createElement(oe,{address:t,networkId:a,url:xe(t,a,n,s,o)}),r.a.createElement("div",{className:et.a.centerColumn},r.a.createElement(f.b,{to:je("admin",t,a,n,s,o),className:Q.a.button},"Customize widget"),r.a.createElement(f.b,{to:je("addfund",t,a,n,s,o),className:Q.a.button},"Transfer funds"))))}}]),t}(r.a.Component),st=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fundraiserAddress=e.match.params.address,a.networkId=a.props.match.params.networkId,a.token=a.props.match.params.token,a.state={color:a.props.match.params.color,theme:a.props.match.params.theme,token:a.props.match.params.token,address:a.props.match.params.address,networkId:a.props.match.params.networkId,isLoading:!0,hasExpired:!1,fundraiserContract:null},a.hideCongrats=a.hideCongrats.bind(Object(Ee.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.isConnected?this.getExpiration():this.props.dispatch(W())}},{key:"hideCongrats",value:function(){this.props.dispatch({type:"DEPLOY_FINISH"})}},{key:"getExpiration",value:function(){var e=Object(A.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new this.props.web3.eth.Contract(D,this.fundraiserAddress),e.next=3,t.methods.hasExpired().call();case 3:a=e.sent,this.setState({hasExpired:a,fundraiserContract:t,isLoading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.address,a=e.networkId,n=e.color,s=e.theme,o=e.token,i=this.props.justDeployed?"Congrats!":"Manage your fundraiser";return parseInt(this.props.networkId,10)===parseInt(a,10)?r.a.createElement("div",null,r.a.createElement("h1",{className:"subtitle"},i),this.state.isLoading&&r.a.createElement(se,{subtitle:"none"}),this.props.justDeployed&&r.a.createElement("div",{className:[et.a.centerColumn,et.a.padding].join(" ")},r.a.createElement("img",{src:Ze.a,alt:"success"}),r.a.createElement("p",{className:"big"},"Your campaign has been successfully created on blockchain."),r.a.createElement("p",{className:et.a.disclaimer},"Bookmark this page to manage your fundraiser later on."),r.a.createElement("div",{className:et.a.centerRow},r.a.createElement(X,{onClick:this.hideCongrats},"Manage your fundraiser"))),!this.state.isLoading&&r.a.createElement("div",null,!this.props.justDeployed&&!this.state.hasExpired&&r.a.createElement(rt,{address:t,networkId:a,color:n,theme:s,token:o}),!this.props.justDeployed&&this.state.hasExpired&&r.a.createElement(nt,{fundraiserAddress:this.fundraiserAddress,fundraiserContract:this.state.fundraiserContract}))):r.a.createElement("h1",{className:"subtitle"},"You are on a wrong network to access this campaign")}}]),t}(r.a.Component),ot=Object(i.b)(function(e){return{web3:e.web3Connect.web3,isConnected:e.web3Connect.isConnected,justDeployed:e.web3Connect.justDeployed,networkId:e.web3Connect.networkId}})(st),it=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:ye.a.newCampaign},!this.props.isLoading&&!this.props.isDeploying&&r.a.createElement("div",null,r.a.createElement(m.d,null,r.a.createElement(m.a,{from:"/campaign/:address/:networkId/details/",to:je("details",":address",":networkId")}),r.a.createElement(m.a,{from:"/campaign/:address/:networkId/admin/",to:je("admin",":address",":networkId")}),r.a.createElement(m.a,{from:"/campaign/:address/addfund/",to:je("addfund",":address",this.props.networkId)}),r.a.createElement(m.b,{path:"/campaign/deploy",component:Ve}),r.a.createElement(m.b,{path:je("details",":address",":networkId",":color",":theme",":token"),component:ot}),r.a.createElement(m.b,{path:je("admin",":address",":networkId",":color",":theme",":token"),component:Ne}),r.a.createElement(m.b,{path:je("addfund",":address",":networkId",":color",":theme",":token"),component:Xe}))),this.props.isLoading&&r.a.createElement(se,null,r.a.createElement("h1",{className:"subtitle"},"Connecting to your wallet")),this.props.isDeploying&&r.a.createElement(se,{subtitle:this.props.transactionHash?"Deploying smart contract to the Ethereum blockchain...":null},r.a.createElement("h1",{className:"subtitle"},"Your fundraiser is being created")),this.props.isDeployed&&r.a.createElement(m.a,{to:je("details",this.props.fundraiser,this.props.networkId)}))}}]),t}(r.a.Component),ct=Object(i.b)(function(e){return{isLoading:e.web3Connect.isLoading,isDeploying:e.web3Connect.isDeploying,isDeployed:e.web3Connect.isDeployed,fundraiser:e.web3Connect.fundraiser,networkId:e.web3Connect.networkId,transactionHash:e.web3Connect.transactionHash}})(it),lt=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/",exact:!0,component:me}),r.a.createElement(m.b,{path:"/featured",exact:!0,component:he}),r.a.createElement(m.b,{path:"/learn-more",exact:!0,component:be}),r.a.createElement(m.b,{path:"/contact",exact:!0,component:fe}),r.a.createElement(m.b,{path:"/campaign",component:ct})))}}]),t}(n.Component),dt=lt=Object(m.g)(lt),ut=a(76),pt=a(340),mt=Object(ut.c)({web3Connect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEB3_SETUP_REQUESTED":return Object(I.a)({},e,{isLoading:!0,error:null});case"WEB3_SETUP_SUCCESS":return console.log("success"),Object(I.a)({},e,{isLoading:!1,isConnected:!0},t);case"WEB3_SETUP_ERROR":return Object(I.a)({},e,{isLoading:!1,isConnected:!1,error:t.error});case"UPDATE_EXPDATE":return Object(I.a)({},e,{expDate:t.expDate});case"UPDATE_RECIPIENT":return Object(I.a)({},e,{recipient:t.recipient});case"TRANSACTION_HASH":return Object(I.a)({},e,{transactionHash:t.hash});case"UPDATE_SPONSOR":return Object(I.a)({},e,{sponsor:t.sponsor});case"DEPLOY_REQUESTED":return Object(I.a)({},e,{isDeploying:!0});case"DEPLOY_SUCCESS":return Object(I.a)({},e,{deployer:t.addresses.deployer,recipient:t.addresses.recipient,sponsor:t.addresses.sponsor,fundraiser:t.addresses.fundraiser,grant:t.addresses.grant,contract:t.contract,isDeploying:!1,isDeployed:!0,justDeployed:!0});case"DEPLOY_ERROR":return Object(I.a)({},e,{error:t.error,isDeploying:!1,isDeployed:!1});case"DEPLOY_FINISH":return Object(I.a)({},e,{justDeployed:!1});case"RESET_STORE":return Object(I.a)({},e,{deployer:null,recipient:null,sponsor:null,fundraiser:null,grant:null,contract:null,isDeployed:!1});case"UPDATE_ACCOUNT":return Object(I.a)({},e,{accounts:t.accounts});default:return e}}}),ht=(a(735),[pt.a]),bt=ut.d.apply(void 0,[ut.a.apply(void 0,ht)].concat([])),ft=Object(ut.e)(mt,{},bt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(736);var gt=document.getElementById("root");o.a.render(r.a.createElement(i.a,{store:ft},r.a.createElement(f.a,null,r.a.createElement(dt,null))),gt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports={createContractForm:"createContractForm_createContractForm__2u_R1",datepicker:"createContractForm_datepicker__ZU2MX",field:"createContractForm_field__2RCPs",buttonRow:"createContractForm_buttonRow__Z9WAV"}},92:function(e){e.exports=[{constant:!0,inputs:[],name:"grant",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"expiration",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"recipient",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"tokenBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_recipient",type:"address"},{name:"_sponsor",type:"address"},{name:"_expiration",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[],name:"hasExpired",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"raised",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"token",type:"address"}],name:"disburse",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]}},[[341,2,1]]]);
//# sourceMappingURL=main.ca57933e.chunk.js.map