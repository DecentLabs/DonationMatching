!function(e){function t(t){for(var a,o,c=t[0],i=t[1],l=t[2],d=0,p=[];d<c.length;d++)o=c[d],s[o]&&p.push(s[o][0]),s[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==s[i]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},s={0:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=s[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=s[e]=[t,a]});t.push(n[2]=a);var r,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({}[e]||e)+".js"}(e);var i=new Error;r=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=s[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",i.name="ChunkLoadError",i.type=a,i.request=r,n[1](i)}s[e]=void 0}};var l=setTimeout(function(){r({type:"timeout",target:c})},12e4);c.onerror=c.onload=r,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/widget/",o.oe=function(e){throw console.error(e),e};var c=window.webpackJsonp=window.webpackJsonp||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=i;r.push([387,1]),n()}({183:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"name":"from","type":"address"},{"indexed":true,"name":"to","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"owner","type":"address"},{"indexed":true,"name":"spender","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"account","type":"address"}],"name":"balanceOf","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"owner","type":"address"},{"name":"spender","type":"address"}],"name":"allowance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"spender","type":"address"},{"name":"amount","type":"uint256"}],"name":"approve","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"sender","type":"address"},{"name":"recipient","type":"address"},{"name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},185:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"grant","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"expiration","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"recipient","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"tokenBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_recipient","type":"address"},{"name":"_sponsor","type":"address"},{"name":"_expiration","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"hasExpired","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"raised","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"}],"name":"disburse","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},186:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"sponsor","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"fundraiser","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"tokenBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_fundraiser","type":"address"},{"name":"_sponsor","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":false,"inputs":[{"name":"token","type":"address"}],"name":"refund","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"refundable","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"sponsored","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"token","type":"address"}],"name":"matched","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"token","type":"address"}],"name":"tally","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}]')},385:function(e,t,n){},386:function(e,t,n){},387:function(e,t,n){"use strict";n.r(t);n(39),n(208),n(55);var a=n(179),s=n.n(a),r=n(16),o=n(0),c=n(3),i=n(72),l=n(73),u=n.n(l),d=n(74),p=n.n(d);const h=e=>{let{duration:t}=e;if(t){const{days:e,hours:n,minutes:a,seconds:s}=t;return Object(o.h)("div",{class:"ticker"},e>0?Object(o.h)("figure",{class:"tickerItem"},Object(o.h)("div",{class:"value"},e),Object(o.h)("figcaption",{class:"label"},"Days")):"",Object(o.h)("figure",{class:"tickerItem"},Object(o.h)("div",{class:"value"},n),Object(o.h)("figcaption",{class:"label"},"Hours")),Object(o.h)("figure",{class:"tickerItem"},Object(o.h)("div",{class:"value"},a),Object(o.h)("figcaption",{class:"label"},"Minutes")),0===e?Object(o.h)("figure",{class:"tickerItem"},Object(o.h)("div",{class:"value"},s),Object(o.h)("figcaption",{class:"label"},"Seconds")):"")}},b=86400,f=3600,m=60;class y extends o.Component{constructor(){super(...arguments),Object(r.a)(this,"state",{time:null}),Object(r.a)(this,"setTime",()=>this.setState({time:Math.floor(p()()/1e3)}))}componentDidMount(){this.timer=u()(()=>this.setTime(),1e3)}componentWillMount(){this.setTime()}componentWillUnmount(){clearInterval(this.timer)}render(e,t){let{at:n}=e,{time:a}=t,s=!1;if(n&&a){const e=Math.max(n-a,0);e>0&&((s={}).days=Math.floor(e/b),s.hours=Math.floor((e-s.days*b)/f),s.minutes=Math.floor((e-s.days*b-s.hours*f)/m),s.seconds=e-s.days*b-s.hours*f-s.minutes*m)}return Object(o.h)("div",{class:"expiration"},Object(o.h)(h,{duration:s}),Object(o.h)("div",{class:"campaignEnds"},"Campaign ends ",new Date(1e3*n).toLocaleString("en-US",{timeZoneName:"short",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})))}}const O={DONATION:"/donation/",EXPIRED:"/expired/",CONTRIBUTION:"/contribution/"},v=["light","dark"],j=new Map,C={token:"ETH",tokenAddress:"0x0000000000000000000000000000000000000000",decimals:18};j.set(1,{url:"https://mainnet.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[C,{token:"AEUR",tokenAddress:"0xc994a2dEb02543Db1f48688438b9903c4b305ce3",decimals:2},{token:"DAI",tokenAddress:"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359",decimals:18}],factory:"0x18662Eef5F00f59A765830B571FAc1d273F4b8D8",etherscan:"https://etherscan.io/",portisName:"mainnet"}),j.set(3,{url:"https://ropsten.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[C],factory:"0x1329857cDa42634C501C1d5f2757761Ccde07436",name:"Ropsten testnet",etherscan:"https://ropsten.etherscan.io/",portisName:"ropsten"}),j.set(4,{url:"https://rinkeby.infura.io/v3/0aac55d3d6bb4b3498e97cbcf7112f6b",tokens:[C,{token:"AEUR",tokenAddress:"0x79065a165Ec09E6A89D584a14872802717FE12a3",decimals:2}],factory:"0x43D5e98C1350DB149f24C4cf9a181e4d7b6fC2d2",name:"Rinkeby testnet",etherscan:"https://rinkeby.etherscan.io/",portisName:"rinkeby"});var k=Object(c.connect)(["networkId"])(e=>{let{networkId:t}=e;const n=j.get(t).name;if(1!==t)return Object(o.h)("div",null,Object(o.h)("div",{className:"networkTitle"},"On ",n))}),w=Object(c.connect)(["raised"])(e=>{let{raised:t,children:n}=e;if(t&&null!==t.value)return Object(o.h)("div",{className:"raisedCont"},Object(o.h)("div",{className:"raised"},Object(o.h)("h1",null,t.value," ",t.token),n))}),g=n(181),x=n.n(g),M=Object(c.connect)(["fundraiserAddress","networkId"])(e=>{let{fundraiserAddress:t,networkId:n}=e;const a=j.get(n);let s="";var r;a&&(s=x()(r="".concat(a.etherscan,"address/")).call(r,t));return Object(o.h)("div",{class:"footer"},Object(o.h)("p",{class:"etherscan"},Object(o.h)("a",{href:s,target:"_blank"},"Verify on Etherscan")),Object(o.h)("p",null,"Powered by "),Object(o.h)("a",{href:"https://chari.io/",target:"_blank"},Object(o.h)("svg",{width:"120",height:"35",viewBox:"0 0 120 35",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(o.h)("g",{id:"chari_text"},Object(o.h)("path",{d:"M54.9547 27.9838C59.8187 27.9838 62.5067 25.3669 64.0427 22.6853L60.1387 20.7792C59.2427 22.5561 57.3227 23.913 54.9547 23.913C51.2427 23.913 48.4267 20.9084 48.4267 16.8376C48.4267 12.7669 51.2427 9.76226 54.9547 9.76226C57.3227 9.76226 59.2427 11.1515 60.1387 12.8961L64.0427 10.9576C62.5387 8.27611 59.8187 5.6915 54.9547 5.6915C48.7147 5.6915 43.7547 10.2146 43.7547 16.8376C43.7547 23.4607 48.7147 27.9838 54.9547 27.9838Z",fill:"#001912"}),Object(o.h)("path",{d:"M77.1154 27.5961H81.1794V16.5146C81.1794 13.4776 79.5474 11.6038 76.1554 11.6038C73.6274 11.6038 71.7074 12.8315 70.7154 14.0269V6.04688H66.6514V27.5961H70.7154V17.0961C71.4194 16.1592 72.6674 15.2546 74.2354 15.2546C75.9954 15.2546 77.1154 15.933 77.1154 18.0976V27.5961Z",fill:"#001912"}),Object(o.h)("path",{d:"M94.4939 27.5961H98.5579V17.5161C98.5579 13.0253 95.3259 11.6038 91.8059 11.6038C89.3739 11.6038 86.9419 12.3792 85.0539 14.0592L86.5899 16.8053C87.9019 15.5776 89.4379 14.9638 91.1019 14.9638C93.1499 14.9638 94.4939 15.9976 94.4939 17.5807V19.7453C93.4699 18.4853 91.6459 17.8392 89.5979 17.8392C87.1339 17.8392 84.2219 19.1638 84.2219 22.8146C84.2219 26.3038 87.1339 27.9838 89.5979 27.9838C91.6139 27.9838 93.4379 27.2407 94.4939 25.9807V27.5961ZM94.4939 23.8484C93.8219 24.753 92.5419 25.2053 91.2299 25.2053C89.6299 25.2053 88.3179 24.3653 88.3179 22.9115C88.3179 21.393 89.6299 20.553 91.2299 20.553C92.5419 20.553 93.8219 21.0053 94.4939 21.91V23.8484Z",fill:"#001912"}),Object(o.h)("path",{d:"M102.589 27.5961H106.653V17.29C107.325 16.2884 109.117 15.513 110.461 15.513C110.909 15.513 111.293 15.5777 111.581 15.6423V11.6361C109.661 11.6361 107.741 12.7346 106.653 14.1238V11.9915H102.589V27.5961Z",fill:"#001912"}),Object(o.h)("path",{d:"M116.136 9.69765C117.48 9.69765 118.568 8.59919 118.568 7.24226C118.568 5.88534 117.48 4.78688 116.136 4.78688C114.824 4.78688 113.704 5.88534 113.704 7.24226C113.704 8.59919 114.824 9.69765 116.136 9.69765ZM114.12 27.5961H118.184V11.9915H114.12V27.5961Z",fill:"#001912"})),Object(o.h)("rect",{width:"34.6667",height:"35",fill:"rgba(0, 0, 0, 0)"}),Object(o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.1719 15.4108C18.3266 15.6077 18.5881 15.804 19.1328 15.8638C19.3381 15.8863 19.4213 15.8414 19.4557 15.8194C19.5032 15.789 19.6022 15.7033 19.6996 15.4769C19.9083 14.9915 19.9968 14.0943 19.7031 12.9337C19.5103 12.172 19.168 11.3618 18.6608 10.578C18.0509 11.8631 17.7542 13.1499 17.7995 14.1429C17.8286 14.7786 17.9905 15.1798 18.1719 15.4108ZM18.261 5.68097C19.3802 4.51027 20.7461 3.5549 22.3077 3.09385C24.8288 2.34951 27.5574 2.98306 30.0708 5.40994C33.3667 8.59253 33.8933 12.8713 32.6875 16.6588C31.4953 20.4038 28.5915 23.7907 24.8059 25.5152C24.0205 25.8729 23.0967 25.5202 22.7423 24.7273C22.388 23.9344 22.7374 23.0017 23.5227 22.6439C26.4958 21.2896 28.7921 18.6008 29.7172 15.6949C30.6288 12.8315 30.1901 9.88399 27.9143 7.68639C26.0943 5.92897 24.4927 5.73069 23.1835 6.11722C22.2558 6.3911 21.3447 6.99919 20.5344 7.83816C21.6393 9.20305 22.3612 10.713 22.7259 12.1538C23.1286 13.7447 23.132 15.4046 22.5615 16.7313C22.2693 17.4109 21.8052 18.045 21.1269 18.4794C20.4356 18.9221 19.6304 19.0869 18.7957 18.9953C17.5204 18.8554 16.4595 18.3003 15.7272 17.368C15.0216 16.4697 14.732 15.3637 14.6828 14.288C14.5936 12.3353 15.2721 10.1166 16.3829 8.19857C15.6046 7.6403 14.686 7.16563 13.6168 6.82528C10.2195 5.74387 7.79224 6.64261 6.32646 8.18972C4.79769 9.80329 4.14153 12.2992 4.70687 14.6841C5.17422 16.6556 7.10432 19.853 10.258 22.7685C13.3733 25.6486 17.4893 28.0702 22.1228 28.7155C22.9763 28.8343 23.5728 29.6292 23.4551 30.4909C23.3373 31.3526 22.55 31.9548 21.6965 31.8359C16.2767 31.0812 11.5991 28.2795 8.15095 25.0917C4.74114 21.9393 2.33793 18.2242 1.67256 15.4173C0.876405 12.0586 1.76421 8.44799 4.07184 6.01234C6.44245 3.51022 10.144 2.417 14.5549 3.82106C15.978 4.27404 17.2107 4.91619 18.261 5.68097Z",fill:"#02DB96"}))))}),T=Object(c.connect)(["fundraiserContract","expiration","matched","selectedToken","sponsored"])(e=>{let{fundraiserContract:t,expiration:n,matched:a,selectedToken:s,sponsored:r}=e;const c=!(!a||!a.value);return Object(o.h)("div",{class:"container"},Object(o.h)("div",null,Object(o.h)(k,null),Object(o.h)(y,{at:n}),Object(o.h)("p",{class:"offer"},"The sponsor matches every ",s.token," you give,",Object(o.h)("br",null),"up to ",r?r.value:0," ",r?r.token:s.token,"."),Object(o.h)(w,null,Object(o.h)("p",null,"Raised together")),c&&Object(o.h)("div",{class:"progressCont"},Object(o.h)("progress",{value:a.value,max:r&&r.value?r.value:a.value}),Object(o.h)("p",null,"Sponsor matched ",a.value," ",a.token,"."),Object(o.h)("hr",null))),Object(o.h)("div",null,t&&Object(o.h)(i.Link,{href:O.CONTRIBUTION,class:"button"},"Contribute to fundraiser"),Object(o.h)(M,null)))}),A=n(182),E=n.n(A);class I extends o.Component{render(e){let{children:t,_class:n}=e;const a=n?"button ".concat(n):"button secondary";return Object(o.h)("span",{class:"copy-to-clipboard"},Object(o.h)("button",{onClick:e=>{!function(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}(this.props.text)},class:a},t))}}n(148);var N=n(75),S=n.n(N),D=n(49),V=n.n(D),B=n(18),_=n.n(B),H=n(183);let P=null;const R=async e=>{if(null===P){const t=j.get(S()(e,10));let a=null;if(window.ethereum)a=window.ethereum,P=a.enable().then(()=>new _.a(a));else if(window.web3)a=window.web3,P=V.a.resolve(new _.a(a));else{let e=null;P=(e=>new V.a(e=>{n.e(2).then(n.t.bind(null,389,7)).then(t=>{e(t)})}))().then(e=>new e("98a39edb-e9d0-4b58-96b6-89227c762f7a",t.portisName)).then(t=>(e=t).provider.enable()).then(()=>new _.a(e.provider))}}return P},L=(e,t,n)=>R(e).then(e=>e.accounts().then(a=>{const s=a[0];return e.sendTransaction({from:s,to:t,value:_.a.toWei(n,"ether"),gas:"3000000",data:null})})),Z=(e,t,n,a)=>R(e).then(e=>e.accounts().then(s=>{const r=s[0],o=a.decimals;return new e.contract(H).at(a.tokenAddress).transfer(t,n*Math.pow(10,o),{from:r})}));var U=()=>Object(o.h)("div",{style:"height:20px; width: 20px; vertical-align: middle"},Object(o.h)("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 488.3 488.3",style:"enable-background:new 0 0 488.3 488.3;"},Object(o.h)("g",{fill:"#02DB96"},Object(o.h)("path",{d:"M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124 C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124 c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"}),Object(o.h)("path",{d:"M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227 c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6 V38.6C439.65,17.3,422.35,0,401.05,0z"}))));var F=Object(c.connect)(["fundraiserAddress","qrcode","selectedToken","networkId"])(class extends o.Component{constructor(){super(...arguments),Object(r.a)(this,"state",{thankyou:!1}),Object(r.a)(this,"submitHandler",e=>{const{selectedToken:t,fundraiserAddress:n,networkId:a}=this.props,s=e.target.querySelector("input"),r=E()(s.value);if(r>0){let e;(e="ETH"===t.token?L(a,n,r):Z(a,n,r,t)).then(()=>this.setState({thankyou:!0}))}})}render(e,t){let{fundraiserAddress:n,qrcode:a,selectedToken:s}=e,{thankyou:r}=t;const c=function(e){if(e){const t=e.substring(e.length-4);return{start:e.slice(0,6),end:t}}}(n);return Object(o.h)("div",{class:"contribution container"},Object(o.h)("div",null,Object(o.h)(i.Link,{class:"button secondary link",href:"/"},"‹"),Object(o.h)(k,null),Object(o.h)("h2",null,"Send ",s.token," to:"),Object(o.h)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},Object(o.h)("div",{class:"addressCont",style:{marginLeft:10}},Object(o.h)("span",{class:"address first"},"".concat(c.start,"...")),Object(o.h)("span",{class:"address last"},c.end)),Object(o.h)(I,{text:n,_class:"copy"},Object(o.h)(U,null))),Object(o.h)("p",{class:"fundraiserAddress"},"Fundraiser address"),Object(o.h)("div",null,Object(o.h)("img",{src:a,class:"qrcode"})),Object(o.h)("hr",null),r&&Object(o.h)("p",{class:"donationThankyou"},"Thank you!"),r?void 0:Object(o.h)("form",{onSubmit:this.submitHandler,action:"javascript:;"},Object(o.h)("input",{type:"text",placeholder:"".concat(s.token," amount")}),Object(o.h)("div",{class:"space"}),Object(o.h)("button",null,"Transfer ",s.token))),Object(o.h)(M,null))}}),q=Object(c.connect)(["matched","selectedToken","sponsored","raised"])(e=>{let{matched:t,selectedToken:n,sponsored:a,raised:s}=e;const r=n?n.token:"ETH",c=t?t.value:0,i=s?s.value:0,l=a?a.value:0,u=i-c>0?i-c:0;return Object(o.h)("div",{class:"container"},Object(o.h)("div",null,Object(o.h)(k,null),Object(o.h)("h2",null,"Fundraiser has ended"),Object(o.h)(w,null,Object(o.h)("p",{class:"expired-raised"},"Raised together")),Object(o.h)("p",{class:"offer"},u," ",r," from donors and ",c," ",r," from sponsor."),Object(o.h)("div",{class:"progressCont"},Object(o.h)("progress",{value:c,max:l||c})),Object(o.h)("p",null,"Sponsor offered ",l," ",r," to match donations.")),Object(o.h)(M,null))}),J=n(38),W=Object(c.connect)(["hasExpired"])(e=>{let{hasExpired:t}=e;if(null===t)return Object(o.h)("div",null);t?Object(J.route)(O.EXPIRED):Object(J.route)(O.DONATION)}),z=n(112),X=n.n(z),G=n(184),K=n(185),Q=n(186),Y=n(187),$=n.n(Y);const ee=Object(G.a)({fundraiserAddress:null,grantAddress:null,networkId:null,fundraiserContract:null,sponsored:null,grantContract:null,expiration:0,tokens:[],fundraiserBalance:[],grantBalance:[],color:"pink",theme:"theme-light",raised:null,hasExpired:null,matched:null,selectedToken:null}),te=ee.action(e=>{const{fundraiserContract:t,grantContract:n,selectedToken:a}=e;t&&n&&V.a.all([oe(t,a),oe(n,a),ae(t,a),se(n,a),re(n,a)]).then(e=>ee.setState({fundraiserBalance:e[0],grantBalance:e[1],raised:e[2],matched:e[3],sponsored:e[4]}))}),ne=ee.action((e,t,n,a)=>{const s=S()(n,10);if(j.has(s)&&(e.networkId!==s||e.fundraiserAddress!==t)){const{url:e,tokens:n}=j.get(s),r=new _.a.HttpProvider(e),o=new _.a(r),c=new o.contract(K).at(t);c.grant().then(e=>{const t=e[0],n=new o.contract(Q).at(t);ee.setState({grantContract:n,grantAddress:t}),te()}).then(()=>c.expiration()).then(e=>{const t=e[0].toNumber(),n=t<p()()/1e3;ee.setState({expiration:t,hasExpired:n}),n||u()(()=>{te()},5e3)}),$.a.toDataURL(t,{version:3}).then(e=>{ee.setState({qrcode:e})});let i=X()(n).call(n,e=>e.token===a);return i||(i=X()(n).call(n,e=>"ETH"===e.token)),{fundraiserAddress:t,networkId:s,fundraiserContract:c,tokens:n,selectedToken:i}}return{}});function ae(e,t){return e.raised(t.tokenAddress).then(e=>{return{value:ce(t.decimals,e[0]),token:t.token}})}function se(e,t){return e.matched(t.tokenAddress).then(e=>{return{value:ce(t.decimals,e[0]),token:t.token}})}function re(e,t){const{token:n,tokenAddress:a,decimals:s}=t;return e.sponsored(a).then(e=>{return{value:ce(s,e[0]),token:n}})}function oe(e,t){const{token:n,tokenAddress:a,decimals:s}=t;return e.tokenBalance(a).then(e=>{return{value:ce(s,e[0]),token:n}})}function ce(e,t){if(e){let n=e;return e>5&&(t=t.div(new _.a.BN(Math.pow(10,e-5))),n=5),t=t.toNumber()/Math.pow(10,n)}}var ie=n(188);n(385),n(386);Object(o.render)(Object(o.h)(c.Provider,{store:ee},Object(o.h)(class extends o.Component{constructor(){super(...arguments),Object(r.a)(this,"state",{theme:v[0]}),Object(r.a)(this,"setTheme",(e,t)=>{if(e){const t="#".concat(e);ee.setState({color:t});const n=document.documentElement;n.style.setProperty("--widget-color",t),n.style.setProperty("--widget-color-opac",t+"25")}t&&this.setState({theme:t})}),Object(r.a)(this,"handleRoute",()=>{if(location.search){const e=new s.a(location.search),t=e.get("address"),n=e.get("network"),a=e.get("token")||void 0,r=e.get("color"),o=e.get("theme");this.setTheme(r,o),ne(t,n,a)}})}render(e,t){let{}=e,{theme:n}=t;return Object(o.h)("div",{className:"donation",id:"DonationWidget","data-theme":n,"data-view":"donation"},Object(o.h)(J.Router,{onChange:this.handleRoute,history:Object(ie.a)()},Object(o.h)(W,{path:"/"}),Object(o.h)(T,{path:O.DONATION}),Object(o.h)(F,{path:O.CONTRIBUTION}),Object(o.h)(q,{path:O.EXPIRED})))}},null)),document.body)}});
//# sourceMappingURL=main.js.map